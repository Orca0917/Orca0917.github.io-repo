---
title:  "[Recommender System] 추천시스템 개요"
excerpt: "유저가 원하는 것을 직접 검색해서 정보를 얻는 Pull 방식과 시스템에서 직접 추천을 해주는 Push방식의 접근에 대해서 알아보고, 추천 시스템에 해결하고자 하는 문제가 무엇인지 알아보자"

categories:
  - RecSys
tags:
  - [AI, Naver, BoostCamp, Recommender System]
toc: true
toc_sticky: true
use_math: true

date: 2022-03-14 00:00:00
last_modified_at: 2022-03-14 00:00:00
---
📌 **알립니다!** <br>
이번에 작성되는 글은 **네이버 부스트캠프 AI Tech**를 수강하며 정리하는 글입니다. <br>
여기서 존재하는 강의 자료의 출처는 네이버 부스트코스/캠프에게 있습니다.
{: .notice--info}

# 추천 시스템

![image](https://user-images.githubusercontent.com/91870042/157883502-77d76713-2a79-4321-a39b-dc3e566e26e5.png){: .align-center width="60%"}
<p align="center"><i>추천 서비스가 이루어지는 OTT 서비스들</i></p>

현재 우리 주변에서는 실시간으로 상품의 추천이나 컨텐츠의 추천이 이루어지고 있다. 최근 많이 사용하는 OTT서비스(넷플릭스, 왓챠, 티빙)에서도 나에게 맞는 영화나 영상이 추천되곤 한다. 쿠팡과 같은 쇼핑사이트에서는 내가 관심있어하는 물품이 무엇인지 캐치해서 그 상품을 추천해주고 있다. 이처럼 추천시스템은 여러 서비스들을 **사용자의 취향에 맞추어서 추천**을 해주는 것이 중요하다.

![image](https://user-images.githubusercontent.com/91870042/158395178-819236fb-ebca-4421-8448-81fa36b2d871.png){: .align-center}
<p align="center"><i>Push 방식과 Pull 방식의 차이</i></p>

사용자가 정보를 얻는 방법에는 2가지가 있다. 하나는 **Pull** 방식이고 또 다른 하나는 **Push** 방식이다.

1. **Pull**  
<br>**Pull은 사용자가 원하는 정보를 직접 검색해서 얻는 방법**이다. 예를 들어, 노트북을 구매하고 싶을 때 쇼핑몰에서 직접 노트북이라는 키워드를 검색해서 상품을 찾아보는 방법이다. 이 방식은 사용자가 직접 상품정보를 불러오는 것이기 때문에 Pull방식이라고 부른다.

2. **Push**  
<br>**Push는 사용자가 시스템으로 부터 상품정보를 받게 되는 것**이다. 직접 검색을 하지 않아도 상품의 추천이 이루어지고, 그 때 사용자의 흥미 또는 의도를 고려해서 취향에 맞는 아이템을 보여준다. 말에서 알 수 있듯이 추천시스템은 이 Push 방법에 해당한다.

### 추천 시스템의 필요성

최근에 이런 추천시스템이 왜 중요해졌고 왜 필요해졌는지 알아보기 위해서 추천시스템을 사용하지 않던 옛날의 모습을 살펴봐야 한다. **예전에는 사용자가 접할 수 있는 컨텐츠나 상품이 매우 제한적**이었다. TV를 보더라도 그 채널의 수가 적었고, 영화도 적었고, 백화점이나 신문도 제한적으로 있었다. 그렇기 때문에 사용자가 이미 그 정보를 다 알고 있을 수 있었다.

하지만, 최근 모습을 보면 하루가 아니라 1분 사이에도 전세계에서 너무 많은 영상들과 미디어 컨텐츠들이 쏟아져 나오고 있다. 이러한 환경에서 나에게 딱 맞는 상품을 검색하는것에도 시간이 오래걸리게 되었고 때로는 직접 검색하지 않아도 원하는 상품을 찾아볼 수 있기를 원하게 되었다.

![image](https://user-images.githubusercontent.com/91870042/157878141-38b19bde-a79a-40dc-a644-206acb760a3a.png){: .align-center width="70%"}
<p align="center"><i>Long-Tail Phenomenon</i></p>

이렇게 수 많은 아이템이 나오게 되면서 **Long-Tail Phenomenon**이 발생하게 되었다. Long-Tail Phenomenon은 인기 있는 소수의 아이템많이 소비되고 그 외의 수 많은 아이템들은 비교적 적게 소비되는 경향을 말한다. 추천시스템은 이런 문제를 풀고자 했고, 이 문제를 해결한 사례를 살펴보자.

1. YouTube의 동영상 추천  
내가 주로 보는 영상과 관련된 영상을 추천해주는데, 이때 그 영상의 조회수가 낮거나 구독자수가 적어도 추천이 이루어지는 경우가 있다. 이는 Long Tail에 해당하는 영상을 추천하고 있음을 알 수 있다.

2. SNS 친구 추천  
Facebook에 올라오는 추천 친구목록은 팔로워 수가 많은 유명인이 아닌, 내가 알만한 사람들을 추천해주고 있다.

## 사용 데이터

추천시스템이 어떤 데이터를 받아서 학습을 하는지 그리고 추천을 해주는지 한 번 알아보자. 먼저 추천을 받는 유저의 정보와 추천 대상이 되는 상품의 정보를 살펴볼 수 있다.

### 유저 관련 정보

![image](https://user-images.githubusercontent.com/91870042/157882203-8c710f04-d496-49ee-a100-8b070ad2d33f.png){: .align-center width="70%"}

- **유저 프로파일링**: 추천하고자 하는 유저에 관련된 정보를 구축해서 해당 유저 또는 유저 그룹별로 추천을 진행할 수 있다.
- **식별자**: 유저의 ID, 디바이스ID, 브라우저의 쿠키를 사용해서 추천을 진행할 수 있다. 브라우저의 쿠키로는 회원가입을 하지 않은 유저도 추천을 할 수 있게 만들어준다.
- **데모그래픽 정보**: 성별, 연령, 지역, 관심사와 같은 정보를 말하며 이를 수집해서 개인화된 추천을 진행할 수 있다. 하지만, 개인정보 보호법에 의해서 수집하는데 있어서 까다로워지는 추세이다.
- **유저행동 정보**: 페이지의 방문기록, 아이템에 남긴 평점기록, 아이템 구매기록의 피드백 정보를 말한다.

### 아이템 관련 정보

아이템에 대한 정보를 살펴보기에 앞서서 추천하고자 하는 아이템의 종류를 분류해보면 다음과 같이 나타낼 수 있다.

- **포털**: 뉴스, 블로그, 웹툰 등 컨텐츠
- **광고**: 광고 소재, 상품
- **미디어**: 영화, 음악, 동영상

위의 아이템에서 각 아이템에 대한 추가적인 정보를 확인해볼 수 있다. 먼저 각 아이템은 각 아이템에 대한 고유한 ID를 부여할 수 있다. 그 다음에 각 아이템별로 부여된 추가적 속성과 같은 메타데이터를 확인해보자

- 영화: 영화장르, 출연 배우, 감독, 소개글, 개봉년도
- 상품: 카테고리, 브랜드, 출시일, 상품이미지
- 음악: 아티스트, 작곡가, 장르, 음악 신호

### 유저-아이템 상호작용 정보

유저-아이템 상호작용 정보는 **유저가 아이템을 소비하고 평가하는 전체적인 정보**를 말한다. 쇼핑몰에서 특정 물품을 구매하고 클릭하는 행동들이 이 상호작용 정보에 해당한다. 이는 추천시스템을 학습하는 데이터로서 활용될 만한 충분한 가치가 있다.

이 상호작용 정보는 갖는 특성에 따라서 2가지로 분류해볼 수 있다.

1. **Explicit Feedback**  
    유저가 **"직접"** 아이템에 대해 평가한 정보를 의미한다. 예로, 영화를 본 후에 평점을 남기는 것과 같은 정보가 있다.

2. **Implicit Feedback**  
    유저가 아이템에 대한 평가를 한 것은 아니지만, 유저의 행동을 통해서 어떤 성향을 갖는지 파악하는 것을 말한다. 아이템을 구매하는 행위도 포함되고, 특정 영상을 몇 분 이상 시청하는 것도 포함된다.

모든 사용자가 모든 데이터에 대해서 평가를 남기는 것은 아니기 때문에 **Implicit Feedback의 양이 Explicit Feedback의 양보다 압도적으로 많다**. 그렇기에 Implicit Feedback정보를 잘 사용하는 것도 중요하다.

## 문제 정의

추천시스템이 결국 해결하고자 하는 것은 특정 유저에게 맞는 적합한 아이템을 추천하고 반대로 특정 아이템에 맞는 적합한 유저를 추천하는 것을 말한다. 이 추천을 하기 위해서는 유저-아이템 상호작용을 평가할 점수(Score)가 필요하고 점수를 어떻게 측정할지 알아봐야 한다. 추천은 해결하고자 하는 문제에 따라서 2가지로 나누어 생각해볼 수 있고 각각에 사용되는 평가 지표가 무엇인지 살펴보자.

1. **랭킹(Ranking)**  
랭킹문제는 유저에게 적합한 아이템 Top K개를 추천하는 것을 말한다. Top K개를 선정하기 위해서는 각 아이템별로 점수를 매겨야 하지만, 이 점수는 절대적일 필요는 없다. 마지막으로 정렬해서 상위 K개만 보여줄 것이기 때문에 상대적이어도 괜찮다.  
⭐ 평가를 위한 지표에는 `Precision@K` `Recall@K` `MAP@K` `NDCG@K` 가 있다.

2. **예측(Prediction)**  
예측문제는 유저가 아이템에게 매길 평점(선호도)를 정확하게 예측하는 문제를 말한다. 평점 뿐만아니라 클릭이나 구매를 하는 것도 여기에 해당된다. 주로 유저-아이템 행렬(matrix)를 채우는 문제이다.  
⭐ 평가를 위한 지표에는 `MAE`, `RMSE`, `AUC`가 있다.

## 추천시스템을 적용한 사례

- 넷플릭스 : 맞춤화된 영상 컨텐츠 추천  

- 쿠팡 : 관심있는 상품 추천  

- Google Ads(광고) : 개인화된 광고 추천  
