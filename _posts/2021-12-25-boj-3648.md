---
title:  "[C++] ë°±ì¤€ 3648: ì•„ì´ëŒ"
excerpt: "í”Œë˜í‹°ë„˜ â…£"

categories:
  - boj
tags:
  - [C++, ì•Œê³ ë¦¬ì¦˜, ê·¸ë˜í”„ ì´ë¡ , ê°•í•œ ì—°ê²° ìš”ì†Œ, 2-SAT]
toc: true
toc_sticky: true
 
date: 2021-12-25
last_modified_at: 2021-12-25
---
ğŸ“Œ **ì•Œë¦½ë‹ˆë‹¤!**<br>
ë¬¸ì œ ë‚œì´ë„ì˜ ë¶„ë¥˜ì™€ ì¶œì²˜ëŠ” BOJì™€ Solved.acì— ìˆìŠµë‹ˆë‹¤.
{: .notice--info}

# 1. ë¬¸ì œ ì¶œì²˜
[<img src="https://static.solved.ac/tier_small/17.svg" style="width: 1em"> ë°±ì¤€_3648_ì•„ì´ëŒ](https://www.acmicpc.net/problem/3648)

<br>

# 2. ë¬¸ì œ í•´ì„¤ & ë¶„ë¥˜

> ê° ì‹¬ì‚¬ìœ„ì›ì€ 2ëª…ì—ê²Œ íˆ¬í‘œë¥¼ í•˜ê³ , ê·¸ ì¤‘ ìµœì†Œ í•œëª…ì€ íˆ¬í‘œê²°ê³¼ì— ë°˜ì˜ì´ ë˜ì–´ì•¼ í•œë‹¤. ìµœì¢…ì ìœ¼ë¡œ ëª¨ë“  ì‹¬ì‚¬ìœ„ì›ì˜ íˆ¬í‘œ ê²°ê³¼ë¥¼ ì¢…í•©í•˜ì˜€ì„ ë•Œ, 1ë²ˆ ì°¸ê°€ìê°€ ìš°ìŠ¹ì„ í•  ìˆ˜ ìˆëŠ”ì§€ íŒë‹¨í•´ì•¼í•œë‹¤. 

ì´ ë¬¸ì œì˜ ì¡°ê±´ì„ ë‹¤ìŒê³¼ ê°™ì´ í•´ì„í•´ë³¼ ìˆ˜ ìˆë‹¤.
- ê° ì‹¬ì‚¬ìœ„ì›ì€ **2ëª…ì—ê²Œ íˆ¬í‘œ**ë¥¼ í•œë‹¤: ê° ì ˆì—ëŠ” 2ê°œì˜ boolean ë³€ìˆ˜ê°€ ì¡´ì¬í•œë‹¤.
- ëª¨ë“  ì‹¬ì‚¬ìœ„ì›ì˜ íˆ¬í‘œ ê²°ê³¼ë¥¼ ì¢…í•©í•˜ë©° ê° ì‹¬ì‚¬ìœ„ì›ì´ íˆ¬í‘œí•œ ì°¸ê°€ì ì¤‘ **í•œ ëª…ì€ íˆ¬í‘œê²°ê³¼ì— ë°˜ì˜**ë˜ì–´ì•¼ í•œë‹¤: ê° ì ˆì„ `ANDì—°ì‚°`ì„ ìˆ˜í–‰í•˜ë©°, ìµœì¢… ê²°ê³¼ê°€ Trueê°€ ë‚˜ì™€ì•¼ í•œë‹¤.

ì´ë ‡ê²Œ ìƒê°í•˜ë©´ `2-SATë¬¸ì œ`ë¡œ ë°”ê¿”ì„œ í•´ê²°í•  ìˆ˜ ìˆê³ , ì²˜ìŒì— **1ë²ˆ ì°¸ê°€ìê°€ ìš°ìŠ¹**ì´ë¼ëŠ” ë¶€ë¶„ë§Œ ì¶”ê°€í•˜ë©´ ëœë‹¤. ë”°ë¼ì„œ ë‹¤ìŒ ì‹ì„ ì¶”ê°€í•œë‹¤.
\begin{aligned}
    \neg x_1 \Rightarrow x_1
\end{aligned}
```cpp
adj[3].push_back(2); // 1ë²ˆ ì°¸ê°€ìì˜ Negation (1 * 2 + 1) => (1 * 2)
```
ì´í›„ SCCë¥¼ í™œìš©í•˜ì—¬ 2-SATì´ ë§Œì¡±í•˜ëŠ”ì§€ í™•ì¸í•˜ì—¬ ê²°ê³¼ë¥¼ ì¶œë ¥í•œë‹¤.

ë¶„ë¥˜: `ê·¸ë˜í”„ ì´ë¡ `, `ê°•í•œ ì—°ê²° ìš”ì†Œ`, `2-sat`

<br>

# 3. ì •ë‹µ ì½”ë“œ

~~~cpp
#include <bits/stdc++.h>
#define ll long long
#define pii pair<int, int>

using namespace std;

int n;
int m;

vector<int> sccid(2005, -1), discovered(2005, -1);
int sccNum = 0, vertexNum = 0;
vector<int> adj[2005];
stack<int> st;

pii change(int x) {
    int notx;

    if (x < 0) {
        notx = -x * 2;
        x = -x * 2 + 1;
    } else {
        notx = x * 2 + 1;
        x = x * 2;
    }

    return {x, notx};
}

int scc(int here) {
    int ret = discovered[here] = vertexNum++;
    st.push(here);

    for (int there : adj[here]) {
        if (discovered[there] == -1)
            ret = min(ret, scc(there));
        else if (sccid[there] == -1)
            ret = min(ret, discovered[there]);
    }

    if (ret == discovered[here]) {
        while (true) {
            int now = st.top(); st.pop();
            sccid[now] = sccNum;
            if (now == here) break;
        }
        ++sccNum;
    }

    return ret;
}

bool tarjanSCC() {
    for (int i = 2; i <= (n + 1) * 2; ++i)
        if (discovered[i] == -1)
            scc(i);

    bool ret = true;
    for (int i = 2; i <= (n + 1) * 2 && ret; i += 2)
        if (sccid[i] == sccid[i + 1])
            ret = false;

    return ret;
}

int main() {
    ios_base::sync_with_stdio(false);
    cin.tie(nullptr);
    cout.tie(nullptr);

    while (cin >> n >> m) {
        fill(sccid.begin(), sccid.end(), -1);
        fill(discovered.begin(), discovered.end(), -1);
        sccNum = 0, vertexNum = 0;
        for (int i = 0; i < 2005; ++i) adj[i].clear();

        adj[3].push_back(2);
        for (int i = 0; i < m; ++i) {
            pii a, b; cin >> a.first >> b.first;

            a = change(a.first);
            b = change(b.first);

            adj[a.second].push_back(b.first);
            adj[b.second].push_back(a.first);
        }

        bool result = tarjanSCC();

        cout << (result ? "yes" : "no") << "\n";
    }

    return 0;
}
~~~